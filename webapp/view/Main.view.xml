<mvc:View
    controllerName="osmanager.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
>
    <App>
        <pages>
            <Page id="mainPage">
                <customHeader>
                    <f:ShellBar
                        title="OSManager"
                        showSearch="true"
                        showNotifications="true"
                    >
                        <f:menu>
                            <Menu itemSelected=".onShellMenuSelect">
                                <MenuItem
                                    key="home"
                                    text="Início"
                                    icon="sap-icon://home"
                                />
                                <MenuItem
                                    key="new"
                                    text="Nova OS"
                                    icon="sap-icon://add"
                                />
                                <MenuItem
                                    key="settings"
                                    text="Configurações"
                                    icon="sap-icon://settings"
                                />
                            </Menu>
                        </f:menu>
                        <f:profile>
                            <f:Avatar initials="OS" />
                        </f:profile>
                    </f:ShellBar>
                </customHeader>

                <content>
                    <HBox class="sapUiSmallMargin">
                        <Image
                            src="https://cdn-icons-png.flaticon.com/512/3022/3022338.png"
                            width="50px"
                            height="50px"
                        />
                        <VBox class="sapUiSmallMarginBegin">
                            <Title
                                text="Bem-vindo ao OSManager!"
                                level="H1"
                            />
                            <Text
                                text="Gerencie e acompanhe suas ordens de serviço com facilidade."
                            />
                        </VBox>
                    </HBox>
                    <Table
                        id="ordersTable"
                        items="{ 
                        path: '/orders'}"
                        inset="false"
                    >
                        <headerToolbar>
                            <Toolbar>
                                <Title
                                    text="Lista de Ordens"
                                    level="H2"
                                />
                            </Toolbar>
                        </headerToolbar>

                        <columns>
                            <Column>
                                <Text text="ID" />
                            </Column>
                            <Column>
                                <Text text="Descrição" />
                            </Column>
                            <Column>
                                <Text text="Status" />
                            </Column>
                            <Column>
                                <Text text="Criado Em" />
                            </Column>
                            <Column>
                                <Text text="Prioridade" />
                            </Column>
                        </columns>

                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{id}" />
                                    <Text text="{descricao}" />
                                    <ObjectStatus
                                        text="{status}"
                                        state="{ path: 'status', formatter: '.formatStatusState' }"
                                        icon="{ path: 'status', formatter: '.formatStatusIcon' }"
                                    />
                                    <Text
                                        text="{ path: 'criadoEm', formatter: '.formatDate' }"
                                    />
                                    <ObjectStatus
                                        text="{prioridade}"
                                        state="{ path: 'prioridade', formatter: '.formatPriorityState' }"
                                        icon="{ path: 'prioridade', formatter: '.formatPriorityIcon' }"
                                    />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>
